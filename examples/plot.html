<html>
	<head>
		<script type="text/javascript" src="../js/jquery-2.1.3.min.js"></script>
		<script src="../js/highcharts/js/highcharts.js"></script>
		<script src="../lib/ugrid-client-browser.js"></script>		
	</head>
	<body>
		<script>
		$(function() {
			var chart;
			var grid = new UgridClient({host: 'localhost', port: 12348, data: {type: 'plotter'}});
			grid.wsConnect_cb(function () {
				console.log('connected');
				grid.on('plot', function(msg) {
					console.log('ping');
					console.log(msg);
					// chart.addSeries({
			  //           name: 'New York',
			  //           data: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]
			  //       })
					chart.series[0].addPoint(parseFloat(msg.data))
				});
			});

			chart = new Highcharts.Chart({
				chart: {renderTo: 'container'},
		        title: {
		            text: 'Kmeans error',
		            x: -20 //center
		        },
		        subtitle: {
		            text: 'K = 8, N = 10000',
		            x: -20
		        },
		        //xAxis: {
		        //    categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
		        //},
		        yAxis: {
			        type: 'logarithmic',
			        minorTickInterval: 0.1,
		            title: {text: 'MSE'},
		            plotLines: [{value: 0, width: 1, color: '#808080'}]
		        },
		        legend: {layout: 'vertical', align: 'right', verticalAlign: 'middle', borderWidth: 0},
		        series: [{
		            name: 'Squared distance',
		            data: []
		        }]
		    });
		});
		// $('#container') = chart;
		</script>
		
		<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
	</body>
</html>
